{{
partner = 'LinnSoc'
data = db(db.partners.identifier == partner).select().first()
setup_params = {
  'UI_layer': {
    'page':'UI_layer.load', 
    'vars':{'tabs':'all'} }, 
  }
}}
{{extend 'treeviewer/layout.html'}}
<title>OneZoom/{{=partner}} Tree of Life Explorer, text page for {{=page_info['title_name']}}</title>
<!-- could include bespoke css file here -->
<script type="text/javascript">
/* override default urls for linkouts */
server_urls['OZ_leaf_json_url_func'] = function(ott) {return("{{=URL('tree', 'leaf_linkouts', scheme=True, host=True, extension='json')}}" + "/" + ott.toString() + "?user_more_info=" + encodeURIComponent)"{{=data.default_more_info}}") + "&user_message_OZ=" + encodeURIComponent"{{=partner}}"))};
server_urls['OZ_node_json_url_func'] = function(id) {return("{{=URL('tree', 'node_linkouts', scheme=True, host=True, extension='json')}}" + "/" + id.toString() + "?user_more_info=" + encodeURIComponent("{{=data.default_more_info}}" + "&user_message_OZ=" + encodeURIComponent("{{=partner}}"))};

/* MUST at a minimum define tree_config and pagetitle_func which configure the tree and page title (either could be null) */
var tree_config=null;
var pagetitle_func = function(nm) {return (nm)?"OneZoom/{{=partner}}: "+ nm:"OneZoom/{{=partner}} Tree of Life Explorer"};
document.title = pagetitle_func("{{=page_info['title_name']}}");
var popular_locations = [ /* strings are treated as headers (looked up in OZstrings), arrays as links with [ott,name] with name optional */
    'Linnean specials',
    [819501], // Twinflower (linneaus' favourite)
    [70003], //Painter's mussel
    'Popular places',
    [244265],  //Mammals
    [770315],  //Human
    [81461],   //Birds
    [991547],  //Frogs and toads
    [801601],  //Vertebrates
    [1062253], //Insects
    [691846],  //Animals
    [361838],  //Green plants
    [99252],   //Flowering plants
    [1012685], //Mushrooms
    [304358]   //Complex life (eukaryotes)
];
</script>
